import{K as k,m as M,r as x,j as e,L as O,A as w}from"./app-DI8jKAaG.js";import{D as K}from"./data-table-DxtUr6T2.js";import{E as z}from"./empty-state-Bw9czhHm.js";import{A as B,a as F,b as V,c as q,d as I,e as P,f as $,g as H,E as U,P as _}from"./alert-dialog-CaQhdr--.js";import{B as h}from"./button-Bi0tIFIE.js";import{D as R,a as G,b as J,c as Q}from"./dialog-BUqc3WOn.js";import{D as W,a as X,b as Y,c as D,d as Z}from"./dropdown-menu-5angOWEL.js";import{I as v}from"./input-DUx9UYNx.js";import{L as c}from"./label-socXD-11.js";import{S as ee,a as se,b as te,c as ae,d as T}from"./select-DWuOYKzA.js";import{T as re}from"./textarea-DBcJxG2x.js";import{T as ie,a as le,b as ne,c as oe}from"./tooltip-CFL4sJck.js";import{A as ce}from"./layout-16Z_B-FS.js";import{A as de}from"./app-layout-leE5KsOa.js";import{t as o}from"./sonner-BscgRO35.js";import{C}from"./circle-plus-Dq9rcHoY.js";import{L as N}from"./loader-circle-CAZadqzl.js";import{T as me}from"./trash-2-CIGkqpkB.js";/* empty css            */import"./index-Bc4d16U8.js";import"./index-CwTe_Djz.js";import"./index-Dgf_aHVf.js";import"./index-C3VPwm6a.js";import"./index-Cizcl2S5.js";import"./index-D7Q4hLm2.js";import"./index-BK8IislD.js";import"./index-zinYSaoF.js";import"./chevron-down-BpV7KYPf.js";import"./check-BzgZ6kHm.js";import"./use-mobile-C_02_G2A.js";import"./chevron-right-BZpSGDdV.js";const ue=[{title:"Dashboard",href:"/panel"},{title:"Our Teams",href:"/panel/about/teams"}];function Ue(){const{teams:d}=k().props,{data:m,setData:n,post:b,processing:a,reset:u,delete:A}=M({name:"",title:"",avatar:null,type:"admin",description:""}),[S,i]=x.useState(!1),[E,j]=x.useState(!1),[l,f]=x.useState(null),[g,p]=x.useState(null),y=s=>{s.preventDefault(),g?b(route("teams.update",{id:g}),{onSuccess:()=>{o.success("Team member updated successfully!"),i(!1),u()},onError:t=>{for(const r in t)o.error(`${r} error`,{description:t[r],closeButton:!0,className:"capitalize"})},onFinish:()=>{f(null),p(null)}}):l?A(route("teams",{id:l==null?void 0:l.id}),{onSuccess:()=>{o.success("Team member deleted successfully!"),i(!1),u(),j(!1)},onError:t=>{for(const r in t)o.error(`${r} error`,{description:t[r],closeButton:!0,className:"capitalize"})},onFinish:()=>{f(null),p(null)}}):b(route("teams"),{onSuccess:()=>{o.success("Team member added successfully!"),i(!1),u()},onError:t=>{for(const r in t)o.error(`${r} error`,{description:t[r],closeButton:!0,className:"capitalize"})}})},L=[{accessorKey:"id",header:()=>e.jsx("div",{className:"text-center",children:"#"}),cell:({row:s})=>e.jsxs("div",{className:"text-center font-medium",children:[s.index+1,"."]})},{accessorKey:"name",header:()=>e.jsx("div",{className:"text-left",children:"Name"}),cell:({row:s})=>{var t;return e.jsxs("div",{className:"flex cursor-pointer items-center gap-2",children:[e.jsx("img",{src:(t=s.original)==null?void 0:t.avatar,alt:"",className:"h-10 w-10 rounded-lg"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-left font-medium",children:s.original.name}),e.jsx("div",{className:"text-left",children:s.original.title})]})]})}},{accessorKey:"description",header:()=>e.jsx("div",{className:"text-left",children:"Description"}),cell:({row:s})=>{var t;return e.jsx(ie,{children:e.jsxs(le,{children:[e.jsx(ne,{asChild:!0,children:e.jsx("div",{className:"cursor-pointer truncate text-left",children:(t=s.getValue("description"))==null?void 0:t.substring(0,50)})}),e.jsx(oe,{className:"max-h-[250px] overflow-auto p-3",children:e.jsx("p",{children:s.getValue("description")})})]})})}},{accessorKey:"type",header:()=>e.jsx("div",{className:"text-left",children:"Type"}),cell:({row:s})=>e.jsx("div",{className:"truncate text-left capitalize",children:s.getValue("type")})},{accessorKey:"updated_at",header:()=>e.jsx("div",{className:"text-left",children:"Last Updated"}),cell:({row:s})=>e.jsx("div",{className:"text-left font-medium",children:new Date(s.original.updated_at).toLocaleString()})},{id:"actions",enableHiding:!0,cell:({row:s})=>e.jsxs(W,{children:[e.jsx(X,{asChild:!0,children:e.jsxs(h,{variant:"outline",className:"h-5 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(U,{})]})}),e.jsxs(Y,{align:"end",children:[e.jsxs(D,{onClick:()=>{n(s.original),p(s.original.id),i(!0)},children:[e.jsx(_,{}),"Edit"]}),e.jsx(Z,{}),e.jsxs(D,{onClick:()=>{f(s.original),j(!0)},children:[e.jsx(me,{}),"Delete"]})]})]})}];return e.jsxs(de,{breadcrumbs:ue,children:[e.jsx(O,{title:"Our Teams"}),e.jsxs(ce,{children:[e.jsx("div",{className:"flex flex-col gap-4 p-4 py-1",children:e.jsx(w,{data:"teams",fallback:"Loading...",children:(d==null?void 0:d.length)>0?e.jsx(K,{columns:L,data:d,searchableColumn:"name",placeholder:"Search name...",type:"teams",actions:e.jsxs(h,{variant:"outline",size:"sm",onClick:()=>{i(!0)},children:[e.jsx(C,{})," Create"]})}):e.jsx(z,{actions:e.jsxs(h,{variant:"outline",onClick:()=>i(!0),children:[e.jsx(C,{})," Add Team"]})})})}),e.jsx(R,{open:S,onOpenChange:s=>{i(s),s==!1&&(u(),p(null))},children:e.jsxs(G,{children:[e.jsx(J,{children:"Add Team Member"}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Member Type"}),e.jsxs(ee,{value:m.type,disabled:a,onValueChange:s=>n("type",s),children:[e.jsx(se,{children:e.jsx(te,{placeholder:""})}),e.jsxs(ae,{children:[e.jsx(T,{value:"admin",children:"Administrator"}),e.jsx(T,{value:"director",children:"Director"})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Full Name"}),e.jsx(v,{type:"text",disabled:a,value:m.name,onChange:s=>n("name",s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Title"}),e.jsx(v,{type:"text",disabled:a,value:m.title,onChange:s=>n("title",s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Avartar"}),e.jsx(v,{type:"file",accept:"image/*",disabled:a,onChange:s=>n("avatar",s.target.files[0]),required:!g})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Description"}),e.jsx(re,{type:"text",disabled:a,value:m.description,onChange:s=>n("description",s.target.value),required:!0})]}),e.jsx(Q,{children:e.jsxs(h,{type:"submit",disabled:a,children:[a&&e.jsx(N,{className:"h-4 w-4 animate-spin"}),"Submit"]})})]})]})}),e.jsx(B,{open:E,onOpenChange:j,children:e.jsxs(F,{children:[e.jsxs(V,{children:[e.jsxs(q,{children:['Delete "',e.jsx("b",{children:l==null?void 0:l.name}),'"?']}),e.jsx(I,{children:"This will delete the item and all related data continue?"})]}),e.jsxs(P,{children:[e.jsx($,{children:"Cancel"}),e.jsxs(H,{variant:"destructive",disabled:a,onClick:y,children:[a&&e.jsx(N,{className:"animate-spin"}),"Delete"]})]})]})})]})]})}export{Ue as default};
