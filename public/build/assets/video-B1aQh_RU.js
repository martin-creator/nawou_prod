import{K as D,m as L,r as o,j as e,L as E,A as P,$ as z}from"./app-DeD98bGp.js";import{E as I}from"./empty-state-TvxrC41A.js";import{I as T}from"./input-error-BsAJiwXC.js";import{B as i}from"./button-Ct9n9CgN.js";import{C as S,a as V,b as B,c as C}from"./card-DDKagPVh.js";import{C as H}from"./checkbox-CThx69Ar.js";import{D as M,a as _,b as $,c as F}from"./dialog-B_lECN7v.js";import{I as O}from"./input-lEC92rHn.js";import{L as f}from"./label-rbthaOrs.js";import{S as q,a as K,b as Q,c as R,d as x}from"./select-BvHN7KBN.js";import{A as U}from"./layout-DC_beENg.js";import{A as Y}from"./app-layout-BeTzi4lX.js";import{t as n}from"./sonner-k2FkUgcW.js";import{P as G}from"./plus-Cjg9uxRB.js";import{T as J}from"./trash-1SW7a4c9.js";import{c as W}from"./index-CDvxkt6i.js";import{C as X}from"./circle-plus-Ck5o8W7K.js";import{L as Z}from"./loader-circle-Bp4GwYd4.js";/* empty css            */import"./index-pDgKLu7p.js";import"./index-flsZYQuV.js";import"./index-k0Bvs0rA.js";import"./index-CMBCMJjx.js";import"./check-BPHKryLd.js";import"./index-CadNF0rr.js";import"./index-B70TmmqK.js";import"./index-Bz0yng1I.js";import"./dropdown-menu-otaTuwUL.js";import"./chevron-down-D1hvNpZ3.js";import"./use-mobile-CYeYL97D.js";import"./tooltip-CyhGefgI.js";import"./chevron-right-9kIw7drQ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],se=W("SquarePen",ee),te=[{title:"Dashboard",href:"/panel"},{title:"Story Video",href:"/panel/about/story-video"}];function Me(){const{videos:t}=D().props,{data:j,setData:c,post:g,processing:d,reset:p,errors:N}=L({video:null,page:"home"}),[w,a]=o.useState(!1),[k,b]=o.useState(!1),[ae,re]=o.useState(!1),[oe,v]=o.useState(null),[u,h]=o.useState(null),[m,y]=o.useState("file"),A=s=>{s.preventDefault(),u?g(route("story_video.update",{id:u}),{onSuccess:()=>{n.success("Story video updated successfully!"),a(!1),p()},onError:r=>{for(const l in r)n.error(`${l} error`,{description:r[l],closeButton:!0,className:"capitalize"})},onFinish:()=>{v(null),h(null)}}):g(route("story_video"),{onSuccess:()=>{n.success("Story video added successfully!"),a(!1),p()},onError:r=>{for(const l in r)n.error(`${l} error`,{description:r[l],closeButton:!0,className:"capitalize"})}})};return e.jsxs(Y,{breadcrumbs:te,children:[e.jsx(E,{title:"Story Videos"}),e.jsxs(U,{children:[e.jsx("div",{className:"flex flex-col gap-4 p-4",children:e.jsx(P,{data:"videos",fallback:"Loading...",children:e.jsxs(S,{className:"rounded-md shadow-none",children:[e.jsx(V,{className:"flex border-b pb-5",children:e.jsxs(B,{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-xl",children:"Story Videos"}),e.jsxs(i,{onClick:()=>a(!0),variant:"outline",size:"sm",children:[e.jsx(G,{})," Add video"]})]})}),e.jsx(C,{className:"grid grid-cols-1 py-0 lg:grid-cols-3 gap-3",children:(t==null?void 0:t.length)>0?t==null?void 0:t.map((s,r)=>e.jsx(S,{className:"relative overflow-hidden rounded-md p-0 shadow-none w-full",onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),children:e.jsxs(C,{className:"p-0",children:[e.jsx("iframe",{src:s==null?void 0:s.video,className:"object-fit h-[200px] lg:h-[350px] w-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0}),e.jsxs("div",{className:"bottom-0 left-0 flex w-full items-center justify-between bg-white p-0",animate:k?"visible":"hidden",variants:{hidden:{opacity:0},visible:{opacity:1}},transition:{duration:.2,ease:"easeOut"},children:[e.jsx(z,{as:"button",onSuccess:()=>{n.success("Item trashed!",{description:`Your ${s==null?void 0:s.type} has been deleted from the gallery.`,closeButton:!0})},method:"delete",href:route("story_video"),data:{id:s==null?void 0:s.id},children:e.jsx(i,{variant:"link",className:"m-0 p-0",size:"sm",children:e.jsx(J,{})})}),e.jsxs("span",{className:"text-md font-bold capitalize",children:[s==null?void 0:s.page," page video"]}),e.jsx(i,{variant:"link",onClick:()=>{c(s),h(s==null?void 0:s.id),a(!0)},className:"m-0 p-0",size:"sm",children:e.jsx(se,{})})]})]})},s==null?void 0:s.id)):e.jsx(I,{actions:e.jsxs(i,{variant:"outline",onClick:()=>a(!0),children:[e.jsx(X,{})," Add New"]})})})]})})}),e.jsx(M,{open:w,onOpenChange:s=>{a(s),s==!1&&(p(),h(null))},children:e.jsxs(_,{children:[e.jsxs($,{children:[u?"Editing":"Add"," Story Video"]}),e.jsxs("form",{onSubmit:A,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(f,{className:"capitalize",children:["story video ",m]}),e.jsx(O,{type:m,accept:"video/*",defaultValue:m=="url"?j.video:void 0,disabled:d,onChange:s=>{s.type=="file"?c("video",s.target.files[0]):c("video",s.target.value)},required:!0,className:"mb-2"}),e.jsxs(f,{className:"cursor-pointer items-center",children:[e.jsx(H,{checked:m=="url",onCheckedChange:s=>{y(s?"url":"file")}})," ","Add video link instead."]})]}),e.jsxs("div",{children:[e.jsx(f,{children:"Page to show video"}),e.jsxs(q,{value:j.page,disabled:d,onValueChange:s=>c("page",s),children:[e.jsx(K,{children:e.jsx(Q,{placeholder:""})}),e.jsxs(R,{children:[e.jsx(x,{value:"home",children:"Home Page"}),e.jsx(x,{value:"about",children:"About Page"}),e.jsx(x,{value:"donation",children:"Donations Page"})]})]}),e.jsx(T,{message:N.page})]}),e.jsx(F,{children:e.jsxs(i,{type:"submit",disabled:d,children:[d&&e.jsx(Z,{className:"h-4 w-4 animate-spin"}),"Submit"]})})]})]})})]})]})}export{Me as default};
