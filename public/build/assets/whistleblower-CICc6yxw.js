import{K as r,j as e,L as i,A as l,$ as n}from"./app-DH5o8IYu.js";import{D as o}from"./data-table-cgjqCbXD.js";import{E as c}from"./empty-state-B3W3qtNm.js";import{B as s}from"./button-BdQDpV3Z.js";import{T as d,a as m,b as h,c as p}from"./tooltip-Du8cFeyp.js";import{A as x}from"./app-layout-CQ0AETpo.js";import{t as f}from"./sonner-B0VlLR5N.js";import{T as u}from"./trash-2-NWU3BuHZ.js";/* empty css            */import"ziggy-js";import"./input-Dn46T836.js";import"./index-D5X5_gsJ.js";import"./index-CNncZS_b.js";import"./index-Cb0gIXTF.js";import"./index-DOZPO_ue.js";import"./index-x6vK-Jls.js";import"./dropdown-menu-CLJbZR0I.js";import"./index-Cpx0AJM2.js";import"./index-ByZUqap7.js";import"./use-mobile-DBp9Z0jL.js";import"./chevron-right-Bvj8k7W_.js";const j=[{title:"Dashboard",href:"/panel"},{title:"Whistle Blowing",href:"/whistle"}],g=[{accessorKey:"id",header:()=>e.jsx("div",{className:"text-center",children:"#"}),cell:({row:t})=>e.jsxs("div",{className:"text-center font-medium",children:[t.index+1,"."]})},{accessorKey:"name",header:()=>e.jsx("div",{className:"text-left",children:"Person"}),cell:({row:t})=>e.jsx("div",{className:"flex cursor-pointer items-center gap-2",children:t.original.name?e.jsxs("div",{children:[e.jsx("div",{className:"text-left font-medium",children:t.original.name}),e.jsx("div",{className:"text-left",children:t.original.email})]}):e.jsx(e.Fragment,{})})},{accessorKey:"what_happened",header:()=>e.jsx("div",{className:"text-left",children:"What happened"}),cell:({row:t})=>{var a;return e.jsx(d,{children:e.jsxs(m,{children:[e.jsx(h,{asChild:!0,children:e.jsx("div",{className:"cursor-pointer truncate text-left",children:(a=t.getValue("what_happened"))==null?void 0:a.substring(0,50)})}),e.jsx(p,{className:"max-h-[250px] overflow-auto p-3",children:e.jsx("p",{children:t.getValue("what_happened")})})]})})}},{accessorKey:"where_it_happened",header:()=>e.jsx("div",{className:"text-left",children:"Where it happened"})},{accessorKey:"who_was_involved",header:()=>e.jsx("div",{className:"text-left",children:"Who was involved"})},{accessorKey:"evidence_file",header:()=>e.jsx("div",{className:"text-left",children:"Evidence File"}),cell:({row:t})=>t.original.evidence_file?e.jsx("a",{href:t.original.evidence_file,target:"_blank",children:e.jsx(s,{className:"p-0",variant:"link",children:"Open File"})}):e.jsx(e.Fragment,{})},{accessorKey:"updated_at",header:()=>e.jsx("div",{className:"text-left",children:"Last Updated"}),cell:({row:t})=>e.jsx("div",{className:"text-left font-medium",children:new Date(t.original.updated_at).toLocaleString()})},{id:"actions",enableHiding:!0,cell:({row:t})=>{var a;return e.jsx(n,{data:{id:(a=t.original)==null?void 0:a.id},onSuccess:()=>{f.success("Message deleted successfully!")},as:"button",href:route("whistleblowers"),method:"delete",children:e.jsx(s,{variant:"outline",className:"h-5 w-8 p-0 text-red-500",children:e.jsx(u,{})})})}}];function $(){const{whistleblowers:t}=r().props;return e.jsxs(x,{breadcrumbs:j,children:[e.jsx(i,{title:"Whistle Blowing"}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:e.jsx(l,{data:"whistleblowers",fallback:"Loading...",children:(t==null?void 0:t.length)>0?e.jsx(o,{columns:g,data:t,searchableColumn:"name",placeholder:"Search name...",type:"whistle blowers"}):e.jsx(c,{message:"Messages from whistle blowing will appear here!"})})})]})}export{$ as default};
